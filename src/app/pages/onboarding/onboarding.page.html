<ion-content [fullscreen]="true" class="onboarding-content safe-padded" [scrollY]="true">
    <!-- Progress header -->
    <div class="progress-wrap">
        <div class="bar">
            <div class="bar-fill" [style.width.%]="((stepIndex + 1) / steps.length) * 100"></div>
        </div>
        <div class="step-text">
            Step {{ stepIndex + 1 }} of {{ steps.length }}
        </div>
    </div>

    <!-- Step content (projected component) -->
    <div class="step-host">
        <ng-container *ngComponentOutlet="currentComponent; inputs: { userData: userData }">
        </ng-container>
    </div>
</ion-content>

<!-- Sticky bottom nav -->
<div class="onboarding-nav vertical">
    <!-- primary CTA -->
    <ion-button class="next-btn" expand="block" shape="round" size="large" color="primary"
        (click)="stepIndex < steps.length - 1 ? nextStep() : onComplete()">
        {{ stepIndex < steps.length - 1 ? 'Next →' : 'Finish' }} </ion-button>

            <!-- back as underlined text -->
            <button type="button" class="back-link" (click)="prevStep()" [disabled]="stepIndex === 0">
                ← Back
            </button>
</div>