<ion-header>
        <ion-toolbar>
            <ion-buttons slot="start">
                <ion-button id="userMenuBtn" fill="clear">
                    <ion-avatar *ngIf="userPhotoUrl; else initialsAvatar">
                        <img [src]="userPhotoUrl" (error)="onImageError()" />
                    </ion-avatar>
                    <ng-template #initialsAvatar>
                        <div class="initials-avatar">{{ userInitials }}</div>
                    </ng-template>
                </ion-button>
            </ion-buttons>

            <div class="app-title">
                <span class="page-title">{{ pageTitle }}</span>
                <span class="app-name">Nutritrack</span>
            </div>


            <ion-buttons slot="end">
                <ion-button (click)="goToNotifications()">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#000000">
                        <path
                            d="M160-200v-80h80v-280q0-83 50-147.5T420-792v-28q0-25 17.5-42.5T480-880q25 0 42.5 17.5T540-820v28q80 20 130 84.5T720-560v280h80v80H160Zm320-300Zm0 420q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-280h320v-280q0-66-47-113t-113-47q-66 0-113 47t-47 113v280Z" />
                    </svg>
                </ion-button>
            </ion-buttons>

            <ion-popover trigger="userMenuBtn" triggerAction="click" dismissOnSelect="true" side="bottom"
                alignment="start" class="user-menu-popover">
                <ng-template>
                    <ion-list>
                        <ion-item button lines="none" detail="false" (click)="goToSettings()">Settings</ion-item>
                        <ion-item button lines="none" detail="false" (click)="logout()">Sign out</ion-item>
                    </ion-list>
                </ng-template>
            </ion-popover>
        </ion-toolbar>
    </ion-header>
<ion-content>
    

    <router-outlet></router-outlet>





</ion-content>

<ion-footer class="custom-footer">
    <div class="footer-bar-with-notch">
        <button class="footer-tab" (click)="goToDashboard()">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000">
                <path
                    d="M520-600v-240h320v240H520ZM120-440v-400h320v400H120Zm400 320v-400h320v400H520Zm-400 0v-240h320v240H120Zm80-400h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z" />
            </svg>
            <div class="footer-label">DASHBOARD</div>
        </button>
        <div class="footer-center-notch">
            <button class="footer-center-btn" (click)="addMeal()">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="#000000">
                    <path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z" />
                </svg>
            </button>
        </div>
        <button class="footer-tab" (click)="goToTodayMeals()">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000">
                <path
                    d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z" />
            </svg>
            <div class="footer-label">DAILY LOG</div>
        </button>
    </div>
</ion-footer>